common code and defintions used by the host code
